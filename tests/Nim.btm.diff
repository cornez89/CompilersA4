1,99c1,73
< // Source file: Nim.btm
< // Source line: 4
< class Main extends Object {
<     // Source line: 6
<     TextIO io = 
< (/*L6,type:TextIO*/new TextIO());
<     // Source line: 13
<     int turn(/*line:13*/String name, /*line:13*/int numBeansLeft) {
<         // Source line: 14
<         int pickedBeans = (/*L14,type:int*/0);
<         // Source line: 18
<         while ((/*L18,type:boolean*/true))
<             // Source line: 18
<             {
<                 // Source line: 20
<                 (/*L20,type:TextIO*/(/*L20,type:TextIO*/(/*L20,type:TextIO*/io).putString((/*L20,type:String*/name))).putString((/*L20,type:String*/", how many beans to pick up? (")));
<                 // Source line: 21
<                 (/*L21,type:TextIO*/(/*L21,type:TextIO*/(/*L21,type:TextIO*/io).putInt((/*L21,type:int*/numBeansLeft))).putString((/*L21,type:String*/" left) ")));
<                 // Source line: 22
<                 (/*L22,type:int*/pickedBeans = (/*L22,type:int*/(/*L22,type:TextIO*/io).getInt()));
<                 // Source line: 25
<                 if ((/*L25,type:boolean*/(/*L25,type:boolean*/(/*L25,type:int*/pickedBeans) < (/*L25,type:int*/1)) || (/*L25,type:boolean*/(/*L25,type:int*/pickedBeans) > (/*L25,type:int*/3))))
<                     // Source line: 26
<                     (/*L26,type:TextIO*/(/*L26,type:TextIO*/io).putString((/*L26,type:String*/"number of beans must be 1, 2, or 3\n")));
<                 else
<                     // Source line: 28
<                     if ((/*L28,type:boolean*/(/*L28,type:int*/pickedBeans) > (/*L28,type:int*/numBeansLeft)))
<                         // Source line: 29
<                         (/*L29,type:TextIO*/(/*L29,type:TextIO*/io).putString((/*L29,type:String*/"can't pick up more beans than are left\n")));
<                     else
<                         // Source line: 32
<                         return (/*L32,type:int*/pickedBeans);
<             }
<         // Source line: 36
<         return (/*L36,type:int*/0);
<     }
<     // Source line: 44
<     void main() {
<         // Source line: 46
<         (/*L46,type:TextIO*/(/*L46,type:TextIO*/io).putString((/*L46,type:String*/"Player 1, enter your name: ")));
<         // Source line: 47
<         String player1 = (/*L47,type:String*/(/*L47,type:TextIO*/io).getString());
<         // Source line: 48
<         (/*L48,type:TextIO*/(/*L48,type:TextIO*/io).putString((/*L48,type:String*/"Player 2, enter your name: ")));
<         // Source line: 49
<         String player2 = (/*L49,type:String*/(/*L49,type:TextIO*/io).getString());
<         // Source line: 50
<         (/*L50,type:TextIO*/(/*L50,type:TextIO*/io).putString((/*L50,type:String*/"How many beans to start? ")));
<         // Source line: 51
<         int totalBeans = (/*L51,type:int*/(/*L51,type:TextIO*/io).getInt());
<         // Source line: 54
<         while ((/*L54,type:boolean*/(/*L54,type:int*/totalBeans) < (/*L54,type:int*/1)))
<             // Source line: 54
<             {
<                 // Source line: 55
<                 (/*L55,type:TextIO*/(/*L55,type:TextIO*/io).putString((/*L55,type:String*/"Total beans must be > 0.  How many beans to start? ")));
<                 // Source line: 56
<                 (/*L56,type:int*/totalBeans = (/*L56,type:int*/(/*L56,type:TextIO*/io).getInt()));
<             }
<         // Source line: 60
<         int numBeansLeft = (/*L60,type:int*/totalBeans);
<         // Source line: 62
<         String currentPlayer = (/*L62,type:String*/player1);
<         // Source line: 67
<         int i = (/*L67,type:int*/0);
<         // Source line: 68
<         while ((/*L68,type:boolean*/(/*L68,type:int*/numBeansLeft) > (/*L68,type:int*/0)))
<             // Source line: 68
<             {
<                 // Source line: 70
<                 int pickedBeans = (/*L70,type:int*/(/*L70,type:Main*/this).turn((/*L70,type:String*/currentPlayer), (/*L70,type:int*/numBeansLeft)));
<                 // Source line: 72
<                 (/*L72,type:int*/numBeansLeft = (/*L72,type:int*/(/*L72,type:int*/numBeansLeft) - (/*L72,type:int*/pickedBeans)));
<                 // Source line: 75
<                 if ((/*L75,type:boolean*/(/*L75,type:int*/numBeansLeft) > (/*L75,type:int*/0)))
<                     // Source line: 75
<                     {
<                         // Source line: 77
<                         (/*L77,type:String*/currentPlayer = (/*L77,type:String*/player2));
<                         // Source line: 78
<                         if ((/*L78,type:boolean*/(/*L78,type:int*/(/*L78,type:int*/i) % (/*L78,type:int*/2)) == (/*L78,type:int*/1)))
<                             // Source line: 79
<                             (/*L79,type:String*/currentPlayer = (/*L79,type:String*/player1));
<                         else
<                             // Source line: 78
<                             {
<                             }
<                     }
<                 else
<                     // Source line: 75
<                     {
<                     }
<                 // Source line: 82
<                 (/*L82,type:int*/i = (/*L82,type:int*/(/*L82,type:int*/i) + (/*L82,type:int*/1)));
<             }
<         // Source line: 87
<         (/*L87,type:TextIO*/(/*L87,type:TextIO*/(/*L87,type:TextIO*/io).putString((/*L87,type:String*/currentPlayer))).putString((/*L87,type:String*/", you win!\n")));
<     }
< }
---
> 
> C:\Users\ZachA\OneDrive - University of Wisconsin Oshkosh\Spring 2025\CS 431\a4\tests>java -classpath "C:\Users\ZachA\OneDrive - University of Wisconsin Oshkosh\Spring 2025\CS 431\a4\src" Main Nim.btm 
> java.lang.NullPointerException: Cannot invoke "Object.hashCode()" because "key" is null
> class: String value: util.ClassTreeNode@312b1dae
> class: Object value: util.ClassTreeNode@7530d0a
>         at java.base/java.util.Hashtable.get(Hashtable.java:381)
>         at util.ClassTreeNode.lookupClass(Unknown Source)
>         at visitor.SemantVisitor.typeExists(Unknown Source)
> class: Sys value: util.ClassTreeNode@27bc2616
> class: Main value: util.ClassTreeNode@3941a79c
> class: TextIO value: util.ClassTreeNode@506e1b77
> Main
>         at visitor.SemantVisitor.conformsTo(Unknown Source)
>         at visitor.TypeCheckVisitor.visit(Unknown Source)
> Class: Object        at ast.Field.accept(Unknown Source)
>         at visitor.Visitor.visit(Unknown Source)
>         at ast.MemberList.accept(Unknown Source)
>         at visitor.TypeCheckVisitor.visit(Unknown Source)
>         at ast.Class_.accept(Unknown Source)
>         at visitor.TypeCheckVisitor.visit(Unknown Source)
> 
> Entered Scope, scopes = 0
> Entered Scope, scopes = 0
> Class: Object
> Entered Scope, scopes = 1
> Entered Scope, scopes = 1
>         at visitor.TypeCheckVisitor.visit(Unknown Source)
>         at semant.SemanticAnalyzer.typeCheck(Unknown Source)
>         at semant.SemanticAnalyzer.analyze(Unknown Source)
>         at Main.main(Unknown Source)
> Internal error within compiler: stopping compilation
> Scope level 2, contains:
> Class: Object
> Exited Scope, scopes = 2
> Exited Scope, scopes = 2
> Class: Object
> Entered Scope, scopes = 1
> Entered Scope, scopes = 1
> Class: Object
> Entered Scope, scopes = 2
> Entered Scope, scopes = 2
> Scope level 3, contains:
> Scope level 3, contains:
> Scope level 3, contains:
> key: turn, value ast.Method@2e0fa5d3
> Class: Object
> Exited Scope, scopes = 3
> Exited Scope, scopes = 3
> Class: Object
> Exited Scope, scopes = 2
> Exited Scope, scopes = 2
> Class: Object
> Exited Scope, scopes = 1
> Exited Scope, scopes = 1
> Curr Class: Object, num of children: 1ClassTreeNode
> Class: Object
> Entered Scope, scopes = 0
> Entered Scope, scopes = 0
> Method
> Class: Object
> Entered Scope, scopes = 1
> Entered Scope, scopes = 1
> Method
> Class: Object
> Exited Scope, scopes = 2
> Exited Scope, scopes = 2
> Class: Object
> Entered Scope, scopes = 1
> Entered Scope, scopes = 1
> Curr Class: Main, num of children: 0ClassTreeNode
> Class: Main
> Entered Scope, scopes = 0
> Entered Scope, scopes = 0
